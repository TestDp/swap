{"version":3,"sources":["../../src/pages/publish/publish.module.ts","../../node_modules/@ionic-native/media-capture/index.js","../../src/pages/publish/publish.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAyC;AACO;AACR;AACkB;AAc1D,IAAa,iBAAiB;IAA9B;IAAgC,CAAC;IAAD,wBAAC;AAAD,CAAC;AAApB,iBAAiB;IAZ7B,sFAAQ,CAAC;QACR,YAAY,EAAE;YACZ,6DAAW;SACZ;QACD,OAAO,EAAE;YACP,sEAAe,CAAC,QAAQ,CAAC,6DAAW,CAAC;SACtC;QACD,OAAO,EAAE;YACP,6DAAW;SACZ;QACD,SAAS,EAAE,CAAC,iFAAY,CAAC;KAC1B,CAAC;GACW,iBAAiB,CAAG;AAAH;;;;;;;;;;;;;ACjB9B;AAAA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACqB;AACyC;AACzC;AACrB;AACA;AACA;AACA;AACA;AACA,WAAW,6DAA6D;AACxE;AACA;AACA,oDAAoD;AACpD;AACA;AACA;AACA;AACA,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,SAAS,0EAAmB;AAC5B;AACA;AACA,+CAA+C,WAAW;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC;AACO;AACR,iC;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrKoE;AAC1B;AACmD;AACT;AAEhC;AACJ;AACL;AACqC;AAClC;AAU9C,IAAa,WAAW;IAmBtB,qBACU,MAAuB,EACxB,OAAsB,EACtB,SAA0B,EAC1B,WAAwB,EACvB,EAAuB,EACxB,OAAc,EACb,EAAe,EACf,YAA0B,EAC3B,KAAY,EACX,MAAc,EACf,WAA8B;QAV7B,WAAM,GAAN,MAAM,CAAiB;QACxB,YAAO,GAAP,OAAO,CAAe;QACtB,cAAS,GAAT,SAAS,CAAiB;QAC1B,gBAAW,GAAX,WAAW,CAAa;QACvB,OAAE,GAAF,EAAE,CAAqB;QACxB,YAAO,GAAP,OAAO,CAAO;QACb,OAAE,GAAF,EAAE,CAAa;QACf,iBAAY,GAAZ,YAAY,CAAc;QAC3B,UAAK,GAAL,KAAK,CAAO;QACX,WAAM,GAAN,MAAM,CAAQ;QACf,gBAAW,GAAX,WAAW,CAAmB;QA3BvC,YAAO,GAAG,EAAa,CAAC;QAQxB,mBAAc,GAAQ,EAAE,CAAC;QACzB,YAAO,GAAQ,EAAE,CAAC;QAClB,kBAAa,GAAQ,EAAE,CAAC;QACxB,WAAM,GAAQ,EAAE,CAAC;QACjB,aAAQ,GAAG,IAAI,CAAC;QAChB,YAAO,GAAQ,EAAE,CAAC;QAiBhB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;QAClC,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC,CAAC;QAC3E,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IAEpD,CAAC;IAGD,oCAAc,GAAd;QACE,OAAO,CAAC,GAAG,CAAC,4BAA4B,CAAC,CAAC;IAC5C,CAAC;IAEO,kCAAY,GAApB;QACE,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;YAC5B,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC,kEAAU,CAAC,QAAQ,CAAC,CAAC;YACnC,WAAW,EAAE,CAAC,EAAE,EAAE,kEAAU,CAAC,QAAQ,CAAC;YACtC,MAAM,EAAE,CAAC,EAAE,CAAC;YACZ,IAAI,EAAE,CAAC,EAAE,CAAC;YACV,SAAS,EAAE,CAAC,EAAE,CAAC;YACf,UAAU,EAAE,CAAC,EAAE,CAAC;YAChB,KAAK,EAAE,CAAC,EAAE,CAAC;SACZ,CAAC,CAAC;IACL,CAAC;IAED,8BAAQ,GAAR;QACE,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;IACjC,CAAC;IAEM,yCAAmB,GAA1B;QACE,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YACpB,KAAK,EAAE,qBAAqB;YAC5B,QAAQ,EAAE,iBAAiB;YAC3B,OAAO,EAAE,CAAC,mBAAmB,CAAC;SAC/B,CAAC,CAAC,OAAO,EAAE,CAAC;IACf,CAAC;IAGD,qCAAe,GAAf;QACE,IAAI,KAAK,GAAG,QAAQ,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC;QACjD,KAAK,CAAC,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAAC,mBAAmB,EAAE,KAAK,CAAC,CAAC;IACpE,CAAC;IAED,qCAAe,GAAf;QACE,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,KAAK,CAAC;IAC7B,CAAC;IAED,sCAAgB,GAAhB;QACE,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC;IAC5B,CAAC;IAGD,6BAAO,GAAP,UAAQ,OAAgB;QACtB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;YACrC,OAAO,EAAE,uBAAuB;SACjC,CAAC,CAAC;QAEH,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;QACvB,OAAO,CAAC,GAAG,CAAC,iBAAiB,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;QAC7C,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,IAAI,SAAS,IAAI,IAAI,CAAC,OAAO,CAAC,UAAU,IAAI,SAAS,IAAI,IAAI,CAAC,OAAO,CAAC,WAAW,IAAI,SAAS;YACtH,IAAI,CAAC,OAAO,CAAC,IAAI,IAAI,SAAS,IAAI,IAAI,CAAC,OAAO,CAAC,KAAK,IAAI,SAAS,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,IAAI,SAAS,CAAC,CAAC,CAAC;YACxG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;gBACpB,KAAK,EAAE,aAAa;gBACpB,QAAQ,EAAE,4CAA4C;gBACtD,OAAO,EAAE,CAAC,SAAS,CAAC;aACrB,CAAC,CAAC,OAAO,EAAE,CAAC;YACb,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;QACzB,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,IAAI,CAAC;gBACH,IAAI,CAAC,IAAI,GAAG,CAAC,QAAQ,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC,CAAC;gBACnD,IAAI,YAAY,GAAG,IAAI,CAAC,cAAc,EAAE,CAAC;YAC3C,CAAC;YAAC,KAAK,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;gBACf,KAAK,CAAC,sBAAsB,GAAG,KAAK,CAAC,CAAC;YACxC,CAAC;QAEH,CAAC;IAEH,CAAC;IAED,8BAAQ,GAAR,UAAS,OAAgB;QACvB,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;IACjC,CAAC;IAED,oCAAc,GAAd;QAAA,iBA2EC;QA1EC,MAAM,CAAC,IAAI,OAAO,CAAC,UAAC,OAAO,EAAE,MAAM;YACjC,IAAI,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC;YAC9D,IAAI,IAAI,GAAG,SAAS,CAAC,WAAW,CAAC;YACjC,IAAI,MAAM,GAAG,SAAS,CAAC,qBAAqB,CAAC;YAC7C,IAAI,WAAW,CAAC;YAChB,IAAI,UAAU,GAAG,KAAI,CAAC,EAAE,CAAC,OAAO,EAAE,CAAC,GAAG,EAAE,CAAC;;gBAEvC,uCAAuC;gBACvC,IAAM,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,CAAC;gBAC5C,yHAAyH;gBACzH,KAAI,CAAC,cAAc,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;gBACnC,KAAI,CAAC,iBAAiB,CAAC,KAAI,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,cAAI;oBACxD,IAAI,eAAe,GAAG,IAAI,CAAC,OAAO,CAAC,yBAAyB,EAAE,EAAE,CAAC,CAAC;oBAClE,KAAI,CAAC,QAAQ,GAAG,eAAe,CAAC;oBAChC,WAAW,GAAG,UAAU,CAAC,KAAK,CAAC,yBAAyB,GAAG,KAAI,CAAC,eAAe,CAAC,KAAK,GAAG,GAAG,GAAG,QAAQ,CAAC,CAAC,SAAS,CAAC,KAAI,CAAC,QAAQ,EAAE,QAAQ,EAAE,EAAE,WAAW,EAAE,WAAW,EAAE,CAAC,CAAC;oBACzK,WAAW,CAAC,IAAI,CAAC,cAAI;wBACnB,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;wBACpC,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,KAAI,CAAC,OAAO,CAAC,CAAC;wBAC1C,IAAI,SAAS,CAAC;wBACd,EAAE,CAAC,CAAC,KAAI,CAAC,eAAe,CAAC,SAAS,IAAI,IAAI,CAAC,CAAC,CAAC;4BAC3C,SAAS,GAAG,CAAC;wBACf,CAAC;wBAAC,IAAI,CAAC,CAAC;4BACN,SAAS,GAAG,KAAI,CAAC,eAAe,CAAC,SAAS;wBAC5C,CAAC;wBAED,EAAE,CAAC,CAAC,KAAI,CAAC,OAAO,CAAC,MAAM,IAAI,KAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC;4BAC9C,IAAI,IAAI,GAAG,IAAI,IAAI,EAAE,CAAC;4BACtB,IAAI,UAAU,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;4BACpC,KAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC;gCACzB,MAAM,EAAE,KAAI,CAAC,OAAO,CAAC,MAAM;gCAC3B,WAAW,EAAE,KAAI,CAAC,OAAO,CAAC,WAAW;gCACrC,OAAO,EAAE,KAAI,CAAC,eAAe,CAAC,KAAK;gCACnC,SAAS,EAAE,KAAI,CAAC,OAAO,CAAC,SAAS;gCACjC,gBAAgB,EAAE,KAAI,CAAC,OAAO,CAAC,UAAU;gCACzC,QAAQ,EAAE,KAAI,CAAC,cAAc;gCAC7B,MAAM,EAAE,GAAG;gCACX,IAAI,EAAE,IAAI;gCACV,MAAM,EAAE,MAAM;gCACd,GAAG,EAAE,KAAI,CAAC,eAAe,CAAC,GAAG;gCAC7B,KAAK,EAAE,IAAI;gCACX,EAAE,EAAE,KAAI,CAAC,eAAe,CAAC,GAAG,GAAG,UAAU;gCACzC,UAAU,EAAE,KAAI,CAAC,OAAO;gCACxB,KAAK,EAAE,KAAI,CAAC,OAAO,CAAC,KAAK;gCACzB,SAAS,EAAE,SAAS;6BACrB,CAAC,CAAC,IAAI,CAAC,UAAC,IAAI;gCACX,KAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;gCACvB,IAAI,KAAK,GAAG,KAAI,CAAC,SAAS,CAAC,MAAM,CAAC;oCAChC,KAAK,EAAE,qBAAqB;oCAC5B,QAAQ,EAAE,mCAAmC;oCAC7C,QAAQ,EAAE,cAAc;oCACxB,OAAO,EAAE;wCACP;4CACE,IAAI,EAAE,SAAS;4CACf,IAAI,EAAE,SAAS;4CACf,OAAO,EAAE;gDACP,KAAI,CAAC,iBAAiB,EAAE,CAAC;4CAC3B,CAAC;yCACF;qCACF;iCACF,CAAC,CAAC;gCACH,KAAK,CAAC,OAAO,EAAE,CAAC;4BAElB,CAAC,CAAC;wBAEJ,CAAC;oBACH,CAAC,CAAC,CAAC;gBAEL,CAAC,CAAC,CAAC;YAEL,CAAC;YA/DD,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE;;aA+D1C;YACD,OAAO,CAAC,MAAM,CAAC,CAAC;QAElB,CAAC,CAAC,CAAC;IAEL,CAAC;IAED,uCAAiB,GAAjB;QACE,+BAA+B;QAC/B,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC;IACnC,CAAC;IAID,mCAAa,GAAb;QAAA,iBAuBC;QAtBC,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;YAC3B,IAAI,CAAC;gBACH,IAAI,CAAC,IAAI,GAAG,CAAC,QAAQ,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC,CAAC;gBACnD,sCAAsC;gBACtC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;oBAChD,IAAI,GAAG,GAAG,GAAG,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;oBAClD,IAAI,CAAC,yBAAyB,CAAC,GAAG,EAAE,YAAY,CAAC,CAAC,IAAI,CAAC,gBAAM;wBAE3D,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;wBACzB,OAAO,CAAC,GAAG,CAAC,sBAAsB,EAAE,KAAI,CAAC,MAAM,CAAC,CAAC;oBAEnD,CAAC,CAAC,CAAC;gBACL,CAAC;YAEH,CAAC;YAAC,KAAK,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;gBACf,KAAK,CAAC,kBAAkB,GAAG,KAAK,CAAC,CAAC;YACpC,CAAC;QACH,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,IAAI,CAAC,aAAa,EAAE,CAAC;QACvB,CAAC;IAGH,CAAC;IAED,mCAAa,GAAb;QACE,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YAChC,KAAK,EAAE,wBAAwB;YAC/B,QAAQ,EAAE,mDAAmD;YAC7D,QAAQ,EAAE,cAAc;YACxB,OAAO,EAAE;gBACP;oBACE,IAAI,EAAE,SAAS;oBACf,IAAI,EAAE,SAAS;oBACf,OAAO,EAAE;oBAET,CAAC;iBACF;aACF;SACF,CAAC,CAAC;QACH,KAAK,CAAC,OAAO,EAAE,CAAC;IAElB,CAAC;IAGD,+CAAyB,GAAzB,UAA0B,GAAG,EAAE,YAAY;QACzC,MAAM,CAAC,IAAI,OAAO,CAAC,UAAC,OAAO,EAAE,MAAM;YACjC,IAAI,GAAG,GAAG,IAAI,KAAK,EAAE,CAAC;YACtB,GAAG,CAAC,WAAW,GAAG,WAAW,CAAC;YAC9B,GAAG,CAAC,MAAM,GAAG;gBACX,IAAI,MAAM,GAAsB,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,EAC9D,GAAG,GAAG,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,EAC7B,OAAO,CAAC;gBACV,MAAM,CAAC,MAAM,GAAG,GAAG,CAAC,MAAM,CAAC;gBAC3B,MAAM,CAAC,KAAK,GAAG,GAAG,CAAC,KAAK,CAAC;gBACzB,GAAG,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;gBACzB,OAAO,GAAG,MAAM,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC;gBACzC,OAAO,CAAC,OAAO,CAAC,CAAC;gBACjB,MAAM,GAAG,IAAI,CAAC;YAChB,CAAC,CAAC;YACF,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC;QAChB,CAAC,CAAC,CAAC;IACL,CAAC;IAED,uCAAiB,GAAjB,UAAkB,GAAG,EAAE,SAAwB,EAAE,UAAyB,EAAE,OAAoB,EAAE,QAAQ;QAAnF,4CAAwB;QAAE,8CAAyB;QAAE,sCAAoB;QAC9F,IAAI,MAAM,GAAQ,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;QACnD,IAAI,KAAK,GAAG,IAAI,KAAK,EAAE,CAAC;QAExB,KAAK,CAAC,MAAM,GAAG;YACb,IAAI,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC;YACxB,IAAI,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC;YAE1B,EAAE,CAAC,CAAC,KAAK,GAAG,MAAM,CAAC,CAAC,CAAC;gBACnB,EAAE,CAAC,CAAC,KAAK,GAAG,SAAS,CAAC,CAAC,CAAC;oBACtB,MAAM,IAAI,SAAS,GAAG,KAAK,CAAC;oBAC5B,KAAK,GAAG,SAAS,CAAC;gBACpB,CAAC;YACH,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,EAAE,CAAC,CAAC,MAAM,GAAG,UAAU,CAAC,CAAC,CAAC;oBACxB,KAAK,IAAI,UAAU,GAAG,MAAM,CAAC;oBAC7B,MAAM,GAAG,UAAU,CAAC;gBACtB,CAAC;YACH,CAAC;YACD,MAAM,CAAC,KAAK,GAAG,KAAK,CAAC;YACrB,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC;YACvB,IAAI,GAAG,GAAG,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;YAElC,GAAG,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC,EAAE,CAAC,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC;YAE1C,8BAA8B;YAC9B,IAAI,OAAO,GAAG,MAAM,CAAC,SAAS,CAAC,YAAY,EAAE,OAAO,CAAC,CAAC;YAEtD,QAAQ,CAAC,OAAO,CAAC;QACnB,CAAC;QACD,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC;IAClB,CAAC;IAED,iCAAW,GAAX;QAAA,iBAWC;QAVC,IAAI,OAAO,GAAwB,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC;QAChD,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,UAAC,SAAc;YAC1D,IAAI,IAAI,GAAG,SAAS,CAAC;YACrB,KAAI,CAAC,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;YAClC,KAAK,CAAC,2BAA2B,GAAG,IAAI,CAAC,SAAS,CAAC,KAAI,CAAC,KAAK,CAAC,CAAC,CAAC;YAChE,SAAS,CAAC,OAAO,CAAC,iBAAO;gBACvB,0CAA0C;gBAC1C,KAAI,CAAC,cAAc,GAAG,yBAAyB,GAAG,SAAS,CAAC;YAC9D,CAAC,CAAC,CAAC;QACL,CAAC,CAAC;IACJ,CAAC;IAED,+BAAS,GAAT;QACE,IAAI,UAAU,GAAG,IAAI,CAAC,EAAE,CAAC,OAAO,EAAE,CAAC,GAAG,EAAE,CAAC;QACzC,iCAAiC;QACjC,IAAM,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,CAAC;QAC/C,iDAAiD;QACjD,IAAM,QAAQ,GAAG,UAAU,CAAC,KAAK,CAAC,YAAU,QAAQ,SAAM,CAAC,CAAC;QAC5D,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,cAAc,EAAE,EAAE,CAAC,CAAC,IAAI,CAAC,UAAC,QAAQ;YACxD,2DAA2D;QAC7D,CAAC,CAAC,CAAC;IAEL,CAAC;IAED,kCAAY,GAAZ;IAEA,CAAC;IAED,kCAAY,GAAZ;QACE,KAAK,CAAC,+DAA+D,CAAC,CAAC;IACzE,CAAC;IAIH,kBAAC;AAAD,CAAC;AA1UY,WAAW;IAPvB,uFAAS,EAAE;IACX,wFAAS,CAAC;QACT,QAAQ,EAAE,cAAc;OACG;KAC5B,CAAC;6EAuBiC;QACf,sEAAa;QACX,oEAAe;QACb,kFAAW;QACnB,kEAAmB;QACf,iEAAK;QACT,iFAAW;QACD,kEAAY;QACpB,oEAAK;QACH,wEAAM;QACF,QAAiB;AA4SxC;SA1UY,WAAW,e","file":"1.main.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { PublishPage } from './publish';\nimport { MediaCapture} from '@ionic-native/media-capture';\n\n@NgModule({\n  declarations: [\n    PublishPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(PublishPage),\n  ],\n  exports: [\n    PublishPage\n  ],\n  providers: [MediaCapture],\n})\nexport class PublishPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/publish/publish.module.ts","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Injectable } from '@angular/core';\r\nimport { Cordova, CordovaProperty, Plugin, IonicNativePlugin } from '@ionic-native/core';\r\nimport { Observable } from 'rxjs/Observable';\r\n/**\r\n * @name Media Capture\r\n * @description\r\n * @usage\r\n * ```typescript\r\n * import { MediaCapture, MediaFile, CaptureError, CaptureImageOptions } from '@ionic-native/media-capture';\r\n *\r\n *\r\n * constructor(private mediaCapture: MediaCapture) { }\r\n *\r\n * ...\r\n *\r\n *\r\n * let options: CaptureImageOptions = { limit: 3 };\r\n * this.mediaCapture.captureImage(options)\r\n *   .then(\r\n *     (data: MediaFile[]) => console.log(data),\r\n *     (err: CaptureError) => console.error(err)\r\n *   );\r\n *\r\n * ```\r\n * @interfaces\r\n * MediaFile\r\n * MediaFileData\r\n * CaptureError\r\n * CaptureAudioOptions\r\n * CaptureImageOptions\r\n * CaptureVideoOptions\r\n * ConfigurationData\r\n */\r\nvar MediaCapture = (function (_super) {\r\n    __extends(MediaCapture, _super);\r\n    function MediaCapture() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * Start the audio recorder application and return information about captured audio clip files.\r\n     * @param options\r\n     * @returns {Promise<MediaFile[]>}\r\n     */\r\n    MediaCapture.prototype.captureAudio = function (options) {\r\n        return;\r\n    };\r\n    /**\r\n     * Start the camera application and return information about captured image files.\r\n     * @param options\r\n     * @returns {Promise<MediaFile[]>}\r\n     */\r\n    MediaCapture.prototype.captureImage = function (options) {\r\n        return;\r\n    };\r\n    /**\r\n     * Start the video recorder application and return information about captured video clip files.\r\n     * @param options\r\n     * @returns {Promise<MediaFile[]>}\r\n     */\r\n    MediaCapture.prototype.captureVideo = function (options) {\r\n        return;\r\n    };\r\n    /**\r\n     * is fired if the capture call is successful\r\n     * @returns {Observable<MediaFile[]>}\r\n     */\r\n    MediaCapture.prototype.onPendingCaptureResult = function () {\r\n        return;\r\n    };\r\n    /**\r\n     * is fired if the capture call is unsuccessful\r\n     * @returns {Observable<CaptureError>}\r\n     */\r\n    MediaCapture.prototype.onPendingCaptureError = function () {\r\n        return;\r\n    };\r\n    MediaCapture.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    /** @nocollapse */\r\n    MediaCapture.ctorParameters = function () { return []; };\r\n    __decorate([\r\n        CordovaProperty,\r\n        __metadata(\"design:type\", Array)\r\n    ], MediaCapture.prototype, \"supportedImageModes\", void 0);\r\n    __decorate([\r\n        CordovaProperty,\r\n        __metadata(\"design:type\", Array)\r\n    ], MediaCapture.prototype, \"supportedAudioModes\", void 0);\r\n    __decorate([\r\n        CordovaProperty,\r\n        __metadata(\"design:type\", Array)\r\n    ], MediaCapture.prototype, \"supportedVideoModes\", void 0);\r\n    __decorate([\r\n        Cordova({\r\n            callbackOrder: 'reverse'\r\n        }),\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", [Object]),\r\n        __metadata(\"design:returntype\", Promise)\r\n    ], MediaCapture.prototype, \"captureAudio\", null);\r\n    __decorate([\r\n        Cordova({\r\n            callbackOrder: 'reverse'\r\n        }),\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", [Object]),\r\n        __metadata(\"design:returntype\", Promise)\r\n    ], MediaCapture.prototype, \"captureImage\", null);\r\n    __decorate([\r\n        Cordova({\r\n            callbackOrder: 'reverse'\r\n        }),\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", [Object]),\r\n        __metadata(\"design:returntype\", Promise)\r\n    ], MediaCapture.prototype, \"captureVideo\", null);\r\n    __decorate([\r\n        Cordova({\r\n            eventObservable: true,\r\n            event: 'pendingcaptureresult'\r\n        }),\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", []),\r\n        __metadata(\"design:returntype\", Observable)\r\n    ], MediaCapture.prototype, \"onPendingCaptureResult\", null);\r\n    __decorate([\r\n        Cordova({\r\n            eventObservable: true,\r\n            event: 'pendingcaptureerror'\r\n        }),\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", []),\r\n        __metadata(\"design:returntype\", Observable)\r\n    ], MediaCapture.prototype, \"onPendingCaptureError\", null);\r\n    MediaCapture = __decorate([\r\n        Plugin({\r\n            pluginName: 'MediaCapture',\r\n            plugin: 'cordova-plugin-media-capture',\r\n            pluginRef: 'navigator.device.capture',\r\n            repo: 'https://github.com/apache/cordova-plugin-media-capture',\r\n            platforms: ['Android', 'BlackBerry 10', 'Browser', 'iOS', 'Ubuntu', 'Windows', 'Windows Phone']\r\n        })\r\n    ], MediaCapture);\r\n    return MediaCapture;\r\n}(IonicNativePlugin));\r\nexport { MediaCapture };\r\n//# sourceMappingURL=index.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/@ionic-native/media-capture/index.js\n// module id = 405\n// module chunks = 1","\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Component } from '@angular/core';\nimport { IonicPage, NavController, AlertController, LoadingController } from 'ionic-angular';\nimport { FirebaseListObservable, AngularFireDatabase } from 'angularfire2/database';\nimport { Article } from \"../../models/article\";\nimport { AngularFireAuth } from 'angularfire2/auth';\nimport { MyApp } from \"../../app/app.component\";\nimport { FirebaseApp } from 'angularfire2';\nimport { MediaCapture, CaptureImageOptions } from '@ionic-native/media-capture';\nimport { Base64 } from '@ionic-native/base64';\n\n\n@IonicPage()\n@Component({\n  selector: 'page-publish',\n  templateUrl: 'publish.html',\n})\n\n\nexport class PublishPage {\n\n  myForm: FormGroup;\n  article = {} as Article;\n  publicarArticulo: FirebaseListObservable<any[]>;\n  subirImagenes: FirebaseListObservable<any>;\n  storageRef: any;\n  file: any;\n  file2: any;\n  captureDataUrl: any;\n  usuarioLoggeado: any;\n  nombreArchivos: any = [];\n  fullUrl: any = [];\n  listaImagenes: any = [];\n  bigImg: any = [];\n  smallImg = null;\n  loading: any = [];\n\n\n  constructor(\n    private afAuth: AngularFireAuth,\n    public navCtrl: NavController,\n    public alertCtrl: AlertController,\n    public formBuilder: FormBuilder,\n    private af: AngularFireDatabase,\n    public appmain: MyApp,\n    private fb: FirebaseApp,\n    private mediaCapture: MediaCapture,\n    public myapp: MyApp,\n    private base64: Base64,\n    public loadingCtrl: LoadingController,\n\n  ) {\n    this.myForm = this.createMyForm();\n    this.usuarioLoggeado = JSON.parse(localStorage.getItem(\"usuarioLoggeado\"));\n    this.publicarArticulo = this.af.list('/article/');\n\n  }\n\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad PublishPage');\n  }\n\n  private createMyForm() {\n    return this.formBuilder.group({\n      titulo: ['', [Validators.required]],\n      descripcion: ['', Validators.required],\n      imagen: [''],\n      File: [''],\n      categoria: [''],\n      categorias: [''],\n      rango: [''],\n    });\n  }\n\n  saveData() {\n    console.log(this.myForm.value);\n  }\n\n  public SubirImagenFirebase() {\n    this.alertCtrl.create({\n      title: 'Email ya registrado',\n      subTitle: 'valide el Email',\n      buttons: ['Volver a intentar']\n    }).present();\n  }\n\n\n  validationImage() {\n    var input = document.getElementById('mainImage');\n    input.addEventListener(\"change\", this.SubirImagenFirebase, false);\n  }\n\n  ngAfterViewInit() {\n    this.myapp.submenu = false;\n  }\n\n  ionViewWillLeave(){\n    this.myapp.submenu = true;\n  }\n\n\n  publish(article: Article) {\n    this.loading = this.loadingCtrl.create({\n      content: 'Guardando artículo...'\n    });\n\n    this.loading.present();\n    console.log(\"objeto publicar\", this.article);\n    if (this.article.categoria == undefined || this.article.categorias == undefined || this.article.descripcion == undefined ||\n      this.article.file == undefined || this.article.rango == undefined || this.article.titulo == undefined) {\n      this.alertCtrl.create({\n        title: 'Información',\n        subTitle: 'Debes ingresar todos los datos solicitados',\n        buttons: ['Aceptar']\n      }).present();\n      this.loading.dismiss();\n    } else {\n      try {\n        this.file = (document.getElementById(\"mainImage\"));\n        let rutaThumbail = this.grabarImagenes();\n      } catch (error) {\n        alert(\"imagen pequeña error\" + error);\n      }\n\n    }\n\n  }\n\n  publish1(article: Article) {\n    console.log(\"rangos\", article);\n  }\n\n  grabarImagenes() {\n    return new Promise((resolve, reject) => {\n      var ubicacion = JSON.parse(localStorage.getItem(\"ubicacion\"));\n      var pais = ubicacion.countryName;\n      var ciudad = ubicacion.subAdministrativeArea;\n      let uploadTask2;\n      let storageRef = this.fb.storage().ref();\n      for (var i = 0; i < this.bigImg.length; i++) {\n        //let imagenSubir = this.file.files[i];\n        const filename = Math.floor(Date.now()) + i; \n        //let uploadTask = storageRef.child('ImagenesArticulos/' + this.usuarioLoggeado.email + \"/\" + filename).put(imagenSubir);\n        this.nombreArchivos.push(filename);\n        this.generateFromImage(this.bigImg[i], 450, 450, 9.5, data => {\n          let cleanedDataPrev = data.replace('data:image/jpeg;base64,', '');\n          this.smallImg = cleanedDataPrev;\n          uploadTask2 = storageRef.child('ImagenesArticulosThumb/' + this.usuarioLoggeado.email + \"/\" + filename).putString(this.smallImg, 'base64', { contentType: 'image/png' });\n          uploadTask2.then(data => {\n            this.fullUrl.push(data.downloadURL);\n            console.log(\"canvas image\", this.fullUrl);\n            let prioridad;\n            if (this.usuarioLoggeado.prioridad == null) {\n              prioridad = 2\n            } else {\n              prioridad = this.usuarioLoggeado.prioridad\n            }\n\n            if (this.fullUrl.length == this.bigImg.length) {\n              var date = new Date();\n              var formatDate = date.toISOString();\n              this.publicarArticulo.push({\n                titulo: this.article.titulo,\n                descripcion: this.article.descripcion,\n                usuario: this.usuarioLoggeado.email,\n                categoria: this.article.categoria,\n                categoriasCambio: this.article.categorias,\n                imageUrl: this.nombreArchivos,\n                estado: \"A\",\n                pais: pais,\n                ciudad: ciudad,\n                uid: this.usuarioLoggeado.uid,\n                fecha: date,\n                id: this.usuarioLoggeado.uid + formatDate,\n                imageThumb: this.fullUrl,\n                rango: this.article.rango,\n                prioridad: prioridad\n              }).then((snap) => {\n                this.loading.dismiss();\n                let alert = this.alertCtrl.create({\n                  title: 'Creado exitosamente',\n                  subTitle: 'Ya este articulo se puede cambiar',\n                  cssClass: 'alert-danger',\n                  buttons: [\n                    {\n                      text: 'Aceptar',\n                      role: 'Aceptar',\n                      handler: () => {\n                        this.redireccionarHome();\n                      }\n                    }\n                  ]\n                });\n                alert.present();\n\n              })\n\n            }\n          });\n\n        });\n\n      }\n      resolve(\"true\");\n\n    });\n\n  }\n\n  redireccionarHome() {\n    //this.navCtrl.push('HomePage')\n    this.myapp.rootPage = 'HomePage';\n  }\n\n\n\n  onImageChange() {\n    if (this.bigImg.length < 3) {\n      try {\n        this.file = (document.getElementById(\"mainImage\"));\n        //var file: File = this.file.files[0];\n        for (var i = 0; i < this.file.files.length; i++) {\n          var url = URL.createObjectURL(this.file.files[i]);\n          this.convertToDataURLviaCanvas(url, \"image/jpeg\").then(base64 => {\n\n            this.bigImg.push(base64);\n            console.log(\"imagenes convertidas\", this.bigImg);\n\n          });\n        }\n\n      } catch (error) {\n        alert(\"imagen pequeña 3\" + error);\n      }\n    } else {\n      this.alertImagenes();\n    }\n\n\n  }\n\n  alertImagenes() {\n    let alert = this.alertCtrl.create({\n      title: 'Información importante',\n      subTitle: 'Solo se permite subir tres imagenes por artículo.',\n      cssClass: 'alert-danger',\n      buttons: [\n        {\n          text: 'Aceptar',\n          role: 'Aceptar',\n          handler: () => {\n\n          }\n        }\n      ]\n    });\n    alert.present();\n\n  }\n\n\n  convertToDataURLviaCanvas(url, outputFormat) {\n    return new Promise((resolve, reject) => {\n      let img = new Image();\n      img.crossOrigin = 'Anonymous';\n      img.onload = () => {\n        let canvas = <HTMLCanvasElement>document.createElement('CANVAS'),\n          ctx = canvas.getContext('2d'),\n          dataURL;\n        canvas.height = img.height;\n        canvas.width = img.width;\n        ctx.drawImage(img, 0, 0);\n        dataURL = canvas.toDataURL(outputFormat);\n        resolve(dataURL);\n        canvas = null;\n      };\n      img.src = url;\n    });\n  }\n\n  generateFromImage(img, MAX_WIDTH: number = 1700, MAX_HEIGHT: number = 1700, quality: number = 30, callback) {\n    var canvas: any = document.createElement(\"canvas\");\n    var image = new Image();\n\n    image.onload = () => {\n      var width = image.width;\n      var height = image.height;\n\n      if (width > height) {\n        if (width > MAX_WIDTH) {\n          height *= MAX_WIDTH / width;\n          width = MAX_WIDTH;\n        }\n      } else {\n        if (height > MAX_HEIGHT) {\n          width *= MAX_HEIGHT / height;\n          height = MAX_HEIGHT;\n        }\n      }\n      canvas.width = width;\n      canvas.height = height;\n      var ctx = canvas.getContext(\"2d\");\n\n      ctx.drawImage(image, 0, 0, width, height);\n\n      // IMPORTANT: 'jpeg' NOT 'jpg'\n      var dataUrl = canvas.toDataURL('image/jpeg', quality);\n\n      callback(dataUrl)\n    }\n    image.src = img;\n  }\n\n  captureFoto() {\n    let options: CaptureImageOptions = { limit: 3 };\n    this.mediaCapture.captureImage(options).then((imagedata: any) => {\n      let file = imagedata;\n      this.file2 = JSON.stringify(file);\n      alert(\"informacion imagen camara\" + JSON.stringify(this.file2));\n      imagedata.forEach(element => {\n        //item.imagenPrincipal = element.fullPath;\n        this.captureDataUrl = 'data:image/jpeg;base64,' + imagedata;\n      });\n    })\n  }\n\n  subirFoto() {\n    let storageRef = this.fb.storage().ref();\n    // Create a timestamp as filename\n    const filename = Math.floor(Date.now() / 1000);\n    // Create a reference to 'images/todays-date.jpg'\n    const imageRef = storageRef.child(`images/${filename}.jpg`);\n    imageRef.putString(this.captureDataUrl, \"\").then((snapshot) => {\n      // Do something here when the data is succesfully uploaded!\n    });\n\n  }\n\n  obtenerImage() {\n\n  }\n\n  alertaPrueba(){\n    alert(\"Se recomienda subir imagen tomadas de forma horizontalmente..\");\n  }\n\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/publish/publish.ts"],"sourceRoot":""}